# =============================================================================
# CertPrep Multi-Agent System — .env.example
# =============================================================================
# This file is SAFE TO COMMIT — it contains no real secrets.
# Copy it to .env and fill in the placeholder values:
#   cp .env.example .env
#
# LIVE MODE auto-activates when AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY
# are filled with real values (not placeholders).  All other services are
# optional — the app degrades gracefully when they are absent.
# =============================================================================

# -----------------------------------------------------------------------------
# [1] AZURE OPENAI SERVICE  ⭐ fill these two to enable live profiling
# -----------------------------------------------------------------------------
AZURE_OPENAI_ENDPOINT=https://<your-resource>.openai.azure.com
AZURE_OPENAI_API_KEY=<your-api-key>
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# -----------------------------------------------------------------------------
# [2] AZURE AI FOUNDRY  ⭐ fill this to enable Foundry Agent Service SDK
# -----------------------------------------------------------------------------
# Find in AI Foundry portal: your project → gear icon → Project properties
# Format: <region>.api.azureml.ms;<subscription-id>;<resource-group>;<project-name>
#
# When set, LearnerProfilingAgent uses AIProjectClient (azure-ai-projects SDK)
# to create a managed Foundry agent + thread instead of calling OpenAI directly.
# This is the preferred approach for the competition.
#
# Authentication: uses DefaultAzureCredential from azure-identity.
#   Local:            run  az login  once (Azure CLI)
#   Streamlit Cloud:  add the three service principal vars below
AZURE_AI_PROJECT_CONNECTION_STRING=<region>.api.azureml.ms;<subscription-id>;<resource-group>;<project-name>

# Service principal (only needed when DefaultAzureCredential can't use az login)
# Create via: az ad sp create-for-rbac --name certprep-sp --role Contributor
AZURE_CLIENT_ID=<service-principal-app-id>
AZURE_CLIENT_SECRET=<service-principal-secret>
AZURE_TENANT_ID=<tenant-id>

# -----------------------------------------------------------------------------
# [3] AZURE AI CONTENT SAFETY  (optional — enhances G-16 guardrail)
# -----------------------------------------------------------------------------
AZURE_CONTENT_SAFETY_ENDPOINT=https://<your-resource>.cognitiveservices.azure.com
AZURE_CONTENT_SAFETY_KEY=<your-key>
AZURE_CONTENT_SAFETY_THRESHOLD=2

# -----------------------------------------------------------------------------
# [4] EMAIL DIGEST  (optional — standard SMTP, works with any email provider)
# -----------------------------------------------------------------------------
# The progress agent (b1_2_progress_agent.py) sends study-progress emails
# using Python's built-in smtplib.  Fill in your SMTP credentials below.
# If left empty the app silently skips sending — no errors, no warnings.
#
# Gmail example:  SMTP_USER = your.account@gmail.com
#                 SMTP_PASS = 16-char app password (Settings → Security → App Passwords)
# Outlook/365:    SMTP_HOST = smtp.office365.com  SMTP_PORT = 587
# SendGrid:       SMTP_HOST = smtp.sendgrid.net   SMTP_USER = apikey  SMTP_PASS = <API key>
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=<your-email@gmail.com>
SMTP_PASS=<your-app-password>
SMTP_FROM=CertPrep <your-email@gmail.com>

# -----------------------------------------------------------------------------
# [4b] AZURE COMMUNICATION SERVICES  (roadmap — production email upgrade)
# -----------------------------------------------------------------------------
# NOT used by the current implementation.  Included as a migration target.
# To set up: Azure Portal → Create "Communication Services" resource
#            → Add "Email Communication Service" sub-resource
#            → Use the free Azure-managed domain (azurecomm.net) or verify your own
#            → Copy the connection string here
# Once the azure-communication-email SDK is wired up, this replaces SMTP above.
AZURE_COMM_CONNECTION_STRING=endpoint=https://<your-resource>.communication.azure.com;accesskey=<key>
AZURE_COMM_SENDER_EMAIL=DoNotReply@<guid>.azurecomm.net

# -----------------------------------------------------------------------------
# [5] MICROSOFT LEARN MCP SERVER  (optional — live module catalogue)
# -----------------------------------------------------------------------------
MCP_MSLEARN_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# [6] APP SETTINGS
# -----------------------------------------------------------------------------
FORCE_MOCK_MODE=false
APP_PIN=1234
ADMIN_USERNAME=admin
ADMIN_PASSWORD=agents2026
