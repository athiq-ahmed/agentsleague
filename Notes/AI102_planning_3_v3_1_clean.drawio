<mxfile host="app.diagrams.net" agent="Mozilla/5.0" version="29.4.0">
  <diagram name="Agentic Certification Prep Architecture V3.1 (Clean)" id="v3-1-clean-architecture">
    <mxGraphModel dx="1700" dy="1100" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <mxCell id="title" value="Microsoft Agents League – Certification Prep Architecture (V3.1 Clean, V2 Style)" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=17;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="10" width="1500" height="30" as="geometry" />
        </mxCell>

        <mxCell id="guardrails" value="Policy &amp; Safety Guardrails (cross-cutting): PII minimization • harmful-content filtering • anti-cheating • human escalation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE7F3;strokeColor=#B4009E;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="50" width="1800" height="56" as="geometry" />
        </mxCell>

        <mxCell id="sec1" value="1. Preparation (Layered, latency-aware)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4CE;strokeColor=#8A6D00;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="130" width="1800" height="260" as="geometry" />
        </mxCell>

        <mxCell id="n1" value="Student Input&#xa;Topics • Exam • Time • Preferences" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEF6FF;strokeColor=#0F6CBD;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="190" width="260" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n2" value="Learner Intake &amp; Profiling&#xa;(state captured)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F0FF;strokeColor=#5C2D91;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="190" width="280" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n3" value="Preparation Orchestrator&#xa;(central brain)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4CE;strokeColor=#8A6D00;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="715" y="190" width="300" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n4" value="Learning Path Planner&#xa;(merged agent)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F0FF;strokeColor=#5C2D91;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1060" y="160" width="270" height="70" as="geometry" />
        </mxCell>

        <mxCell id="n5" value="Study Plan &amp; Engagement Generator&#xa;(merged agent)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F0FF;strokeColor=#5C2D91;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1060" y="248" width="320" height="70" as="geometry" />
        </mxCell>

        <mxCell id="n6" value="Preparation Output Artifact&#xa;Plan + Resources + Milestones" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEF6FF;strokeColor=#0F6CBD;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1430" y="190" width="360" height="78" as="geometry" />
        </mxCell>

        <mxCell id="sec2" value="2. Assessment + Evaluation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F0FF;strokeColor=#5C2D91;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="420" width="1800" height="175" as="geometry" />
        </mxCell>

        <mxCell id="n7" value="Assessment Builder" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F0FF;strokeColor=#5C2D91;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="475" width="250" height="75" as="geometry" />
        </mxCell>

        <mxCell id="n8" value="Tiered Verifier + Repair Loop" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE7F3;strokeColor=#B4009E;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1010" y="475" width="320" height="75" as="geometry" />
        </mxCell>

        <mxCell id="n9" value="Scoring Engine (deterministic)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E9F7EE;strokeColor=#107C10;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1390" y="475" width="290" height="75" as="geometry" />
        </mxCell>

        <mxCell id="sec3" value="3. Decision + Adaptation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E9F7EE;strokeColor=#107C10;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="620" width="1800" height="210" as="geometry" />
        </mxCell>

        <mxCell id="n10" value="Decision Policy&#xa;(isolated thresholds)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E9F7EE;strokeColor=#107C10;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="690" width="250" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n11" value="Ready? Gateway" style="rhombus;whiteSpace=wrap;html=1;fillColor=#E9F7EE;strokeColor=#107C10;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="680" width="165" height="95" as="geometry" />
        </mxCell>

        <mxCell id="n12" value="Certification Planner" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEF6FF;strokeColor=#0F6CBD;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1150" y="690" width="250" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n13" value="Remediation Replanner" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4CE;strokeColor=#8A6D00;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1450" y="690" width="280" height="78" as="geometry" />
        </mxCell>

        <mxCell id="sec4" value="Cross-cutting (passive only)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DAF0FF;strokeColor=#0078D4;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="850" width="1800" height="150" as="geometry" />
        </mxCell>

        <mxCell id="n14" value="Reasoning Trace Log&#xa;(explainability)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4CE;strokeColor=#8A6D00;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="898" width="360" height="78" as="geometry" />
        </mxCell>

        <mxCell id="n15" value="Evaluation Harness &amp; Observability&#xa;(passive, no control arrows)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEF6FF;strokeColor=#0F6CBD;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="898" width="460" height="78" as="geometry" />
        </mxCell>

        <mxCell id="e1" edge="1" parent="1" source="n1" target="n2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" edge="1" parent="1" source="n2" target="n3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e3" value="fan-out" edge="1" parent="1" source="n3" target="n4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e4" value="fan-out" edge="1" parent="1" source="n3" target="n5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e5" edge="1" parent="1" source="n4" target="n6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e6" edge="1" parent="1" source="n5" target="n6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e7" edge="1" parent="1" source="n6" target="n7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e8" edge="1" parent="1" source="n7" target="n8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e9" value="repair" edge="1" parent="1" source="n8" target="n7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#B4009E;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e10" value="validated only" edge="1" parent="1" source="n8" target="n9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e11" value="one-way" edge="1" parent="1" source="n9" target="n10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#107C10;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e12" edge="1" parent="1" source="n10" target="n11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#000000;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e13" value="Yes" edge="1" parent="1" source="n11" target="n12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#107C10;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e14" value="No" edge="1" parent="1" source="n11" target="n13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#8A6D00;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e15" value="replan loop" edge="1" parent="1" source="n13" target="n3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;strokeColor=#8A6D00;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1590" y="590" />
              <mxPoint x="865" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="t1" value="trace" edge="1" parent="1" source="n3" target="n14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#8A6D00;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="t2" value="trace" edge="1" parent="1" source="n8" target="n14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#8A6D00;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="t3" value="trace" edge="1" parent="1" source="n10" target="n14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#8A6D00;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="o1" value="metrics" edge="1" parent="1" source="n3" target="n15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#0F6CBD;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o2" value="metrics" edge="1" parent="1" source="n8" target="n15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#0F6CBD;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o3" value="metrics" edge="1" parent="1" source="n9" target="n15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#0F6CBD;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o4" value="metrics" edge="1" parent="1" source="n10" target="n15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#0F6CBD;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o5" value="trace export" edge="1" parent="1" source="n14" target="n15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;strokeColor=#0F6CBD;dashed=1;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
